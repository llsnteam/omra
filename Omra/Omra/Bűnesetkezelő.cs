///////////////////////////////////////////////////////////
//  Bûnesetkezelõ.cs
//  Implementation of the Class Bûnesetkezelõ
//  Generated by Enterprise Architect
//  Created on:      02-ápr.-2016 10:16:28
//  Original author: Dániel
///////////////////////////////////////////////////////////




using Adatkezelõ;
using Omra;
using System;
using System.Collections.Generic;
namespace Adatkezelõ {
	public class Bûnesetkezelõ : IBûnesetkezelõ, IGyanúsítottkezelõ, IBizonyítékkezelõ 
    {
        


		private List<Bûneset> bûnesetek;
        
		public string AzonosítóGenerálás(){

			return "";
		}

		/// 
		/// <param name="bizonyíték">ez kérdéses</param>
		/// <param name="bûneset"></param>
		public void BizonyítékHozzáadása(Bizonyíték bizonyíték, Bûneset bûneset){
            bûneset.BizonyítékHozzáadása(bûneset, bizonyíték);
		}
        
		/// 
		/// <param name="megnevezés"></param>
		public List<Bizonyíték> BizonyítékKeresés(string megnevezés){
            //nem is kellene ide ? -> kereséskezelõ valósítja meg
			return null;
		}

		/// 
		/// <param name="bûneset"></param>
		public void BûnesetÁllapotmódosítás(Bûneset bûneset){
            bûneset.Állapotmódosítás();
            //---------------------Adatbázisban módosítani
		}

		/// 
		/// <param name="azonosító"></param>
		public Bûneset BûnesetKeresés(string azonosító){
            //nem is kellene ide ? -> kereséskezelõ valósítja meg
			return null;
		}

		public List<Bûneset> GetBûnesetek(){
			return bûnesetek;
		}

		/// 
		/// <param name="Gyanúsított"></param>
		/// <param name="Bûneset"></param>
		public void GyanúsítottHozzáadása(Gyanúsított Gyanúsított, Bûneset Bûneset){
            Bûneset.GyanúsítottHozzáadása(Gyanúsított);
		}

		/// 
		/// <param name="megnevezés">Mint pl. kés, pisztoly stb.</param>
		/// <param name="azonosító"></param>
		public void ÚjBizonyíték(string megnevezés){
            Decimal azonosító = Convert.ToDecimal(AzonosítóGenerálás());

            //Bizonyíték b = new Bizonyíték(megnevezés, azonosító, DateTime.Now);

            DatabaseElements DE = new DatabaseElements();

            var ujbizonyitek = new Bizonyitekok()
            {
                bizonyitekID = azonosító,
                megnevezes = megnevezés,
                felvetel = DateTime.Now
            };

            DE.Bizonyitekok.Add(ujbizonyitek);
            DE.SaveChanges();
		}

		public void ÚjBûneset(){
            Bûneset b = new Bûneset(AzonosítóGenerálás());
            bûnesetek.Add(b); //------------------------------------- bûneset az adatbázisba
		}

		/// 
		/// <param name="gyanúsított"></param>
		public void GyanúsítottMódosítása(Gyanúsított gyanúsított){
            
		}

		/// 
		/// <param name="gyanúsítottStátusz"></param>
		/// <param name="lakcím"></param>
		/// <param name="személyiAzonosító"></param>
		/// <param name="név"></param>
		public void ÚjGyanúsított(GyanúsítottStátusz gyanúsítottStátusz, string lakcím, decimal személyiAzonosító, string név){
            Gyanúsított gy = new Gyanúsított(gyanúsítottStátusz, név, lakcím, személyiAzonosító);
            //----------------------------------------gyanúsított az adatbázisba
		}

	}//end Bûnesetkezelõ

}//end namespace Adatkezelõ